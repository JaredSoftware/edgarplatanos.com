(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{314:function(e,t,r){"use strict";r.r(t);r(38),r(57);var o=r(5),n=(r(47),r(221),r(15),r(54),r(55),r(150),r(31),r(53),r(48),r(46)),l=r.n(n),c={data:function(){return{info:[],idUser:this.$route.query.id,abono:"",access_token:"",user:""}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,c,d,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.a.setMask("#abonoMaker"),r=e.$route.hash,e.linkForredirect=r,o=r.split("&"),n=o.find((function(element){return element.includes("access_token=")})),c=n.split("="),e.access_token=c[1],t.next=9,e.$sheets(c[1],"Clientes!B".concat(Number(e.$route.query.id)+1),"get");case 9:return d=t.sent,t.next=12,e.$sheets(c[1],"cliente_".concat(d.values[0][0]),"get");case 12:v=t.sent,e.user=d.values[0][0],v.values.map((function(t,r){if(r>0){var o=null==t[4]||null==t[4]||""==t[4]?0:l.a.formatToCurrency(Number(t[4])),n=null==t[5]||null==t[5]||""==t[5]?0:l.a.formatToCurrency(Number(t[5]));console.log(n),e.info.push({id:t[0],idViaje:t[1],fecha:t[2],description:t[3],valor:o,abono:n,viajeDelAbono:t[6]})}}));case 15:case"end":return t.stop()}}),t)})))()},methods:{makeAbono:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!!(l.a.formatToNumber(e.abono)<=0)){t.next=8;break}return t.next=4,e.$makeAbono(e.access_token,"cliente_".concat(e.user),[(new Date).toISOString().slice(0,10),"","",l.a.formatToNumber(e.abono)]);case 4:t.sent,window.location.reload(),t.next=9;break;case 8:alert("No se Agrego el valor del abono");case 9:case"end":return t.stop()}}),t)})))()}}},d=r(39),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"relative overflow-x-auto"},[t("div",{staticClass:"p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"},[t("form",[t("div",{staticClass:"mb-6"},[t("label",{staticClass:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",attrs:{for:"user"}},[e._v("Agregar el Abono\n          ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.abono,expression:"abono"}],staticClass:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",attrs:{type:"text",id:"abonoMaker",required:""},domProps:{value:e.abono},on:{input:function(t){t.target.composing||(e.abono=t.target.value)}}})])]),e._v(" "),t("button",{staticClass:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",on:{click:function(t){return e.makeAbono()}}},[e._v("\n        Crear Abono\n      ")])]),e._v(" "),t("br"),e._v(" "),t("table",{staticClass:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},[e._m(0),e._v(" "),t("tbody",e._l(e.info,(function(object,r){return t("tr",{key:r,staticClass:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[t("td",{staticClass:"px-6 py-4"},[e._v(e._s(object.id))]),e._v(" "),t("td",{staticClass:"px-6 py-4"},[e._v(e._s(object.idViaje))]),e._v(" "),t("td",{staticClass:"px-6 py-4"},[e._v(e._s(object.fecha))]),e._v(" "),t("td",{staticClass:"px-6 py-4"},[e._v(e._s(object.description))]),e._v(" "),t("td",{staticClass:"px-6 py-4"},[object.valor?t("div",[t("label",{staticClass:"block mb-2 text-sm font-medium text-red-700 dark:text-red-500",attrs:{for:"username-error"}},[e._v("Your name")]),e._v(" "),t("input",{staticClass:"bg-red-50 border border-red-500 text-red-900 placeholder-red-700 text-sm rounded-lg focus:ring-red-500 focus:border-red-500 block w-full p-2.5 dark:bg-red-100 dark:border-red-400",attrs:{type:"text",id:"username-error",disabled:""},domProps:{value:object.valor}}),e._v(" "),e._m(1,!0)]):e._e()]),e._v(" "),t("td",{staticClass:"px-6 py-4"},[object.abono?t("div",[t("label",{staticClass:"block mb-2 text-sm font-medium text-green-700 dark:text-green-500",attrs:{for:"username-success"}},[e._v("Your name")]),e._v(" "),t("input",{staticClass:"bg-green-50 border border-green-500 text-green-900 placeholder-green-700 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-green-100 dark:border-green-400",attrs:{type:"text",id:"username-success",disabled:""},domProps:{value:object.abono}}),e._v(" "),e._m(2,!0)]):e._e()]),e._v(" "),t("td",{staticClass:"px-6 py-4"},[e._v(e._s(object.viajeDelAbono))])])})),0)])])])}),[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",[t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("id")]),e._v(" "),t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("Id Del Viaje")]),e._v(" "),t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("fecha")]),e._v(" "),t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("description")]),e._v(" "),t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("valor")]),e._v(" "),t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("abono")]),e._v(" "),t("th",{staticClass:"px-6 py-3",attrs:{scope:"col"}},[e._v("Viaje del abono")])])])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"mt-2 text-sm text-red-600 dark:text-red-500"},[t("span",{staticClass:"font-medium"},[e._v("Oops!")]),e._v(" Username already taken!\n              ")])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"mt-2 text-sm text-green-600 dark:text-green-500"},[t("span",{staticClass:"font-medium"},[e._v("Alright!")]),e._v(" Username available!\n              ")])}],!1,null,null,null);t.default=component.exports}}]);